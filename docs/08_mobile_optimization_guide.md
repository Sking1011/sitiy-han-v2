# Технический стандарт мобильной оптимизации (Mobile-First)

Этот документ описывает технические приемы, используемые в проекте Sytyi Han для обеспечения удобства работы на мобильных устройствах.

## 1. Адаптация контента (Таблицы vs Карточки)
**Правило:** На экранах `md` и меньше таблицы должны заменяться на списки карточек.

- **Desktop (`hidden md:block`):** Используем `Table` из Shadcn UI.
- **Mobile (`md:hidden`):** Используем `Card`.
- **Сетка:** Для `ProductGrid` используем `grid-cols-1 sm:grid-cols-2 lg:grid-cols-3`.

## 2. Модальные окна и диалоги (Dialogs)
Для удобства работы пальцами на смартфонах модальные окна адаптируются следующим образом:

```tsx
<DialogContent className="sm:max-w-md p-0 gap-0 max-sm:h-[100dvh] max-sm:max-h-none max-sm:rounded-none max-sm:top-0 max-sm:translate-y-0 border-none max-sm:flex max-sm:flex-col overflow-y-hidden">
```

**Ключевые приемы:**
- **Full-screen на mobile:** `max-sm:h-[100dvh]` и `max-sm:rounded-none`.
- **Header:** Фиксированный заголовок с кнопкой закрытия.
- **Footer:** Фиксированная кнопка действия внизу экрана (`mt-auto`).
- **Скролл:** Используем `overflow-y-auto` и `touch-pan-y` для плавного скролла контента внутри диалога.
- **Отступы:** `pb-96` внутри скролла, чтобы контент не перекрывался клавиатурой.

## 3. Ввод данных (UX)
- **Клавиатура:** Используем `inputMode="decimal"` для количества и `inputMode="numeric"` для цен, чтобы сразу открывалась цифровая клавиатура.
- **Размер элементов:** Высота `h-14` для основных полей ввода и кнопок в модальных окнах.
- **Автофокус:** `autoFocus` на первое поле ввода при открытии шага.
- **Замена символов:** `onChange={(e) => setQuantity(e.target.value.replace(',', '.'))}` для поддержки запятой как разделителя на мобильных клавиатурах.

## 4. Навигация
- **Нижний бар (BottomNav):** Содержит основные разделы, всегда доступен на мобильных.
- **Отступы:** Все страницы имеют `pb-20` или `pb-32`, чтобы контент не скрывался за `BottomNav`.

## 5. Визуальные индикаторы
- **Бейджи:** Компактные статусы.
- **Прогресс-бары:** Тонкие линии (`h-1.5`) для отображения остатков.
- **Цветовые акценты:** Использование `destructive` (красный) для критических остатков или ошибок.
